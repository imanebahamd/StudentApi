<div class="cap-container" [@float]="floatState">
  <svg 
    class="cap-svg" 
    width="140" 
    height="140" 
    viewBox="0 0 140 140"
    (mouseenter)="onHover()"
    (mouseleave)="onLeave()">
    
    <g class="graduation-cap">
      <path 
        d="M 25 50 L 70 35 L 115 50 L 70 65 Z" 
        fill="url(#capGradient)"
        stroke="#1f2937"
        stroke-width="1.5"/>
      
      <!-- 3D depth effect -->
      <path 
        d="M 70 65 L 115 50 L 115 52 L 70 67 Z" 
        fill="#000000"
        opacity="0.15"/>
      
      <!-- Cap cylinder -->
      <rect 
        x="60" 
        y="50" 
        width="20" 
        height="18" 
        rx="1"
        fill="#1f2937"
        stroke="#374151"
        stroke-width="1"/>
      
      <!-- Top rim -->
      <ellipse 
        cx="70" 
        cy="50" 
        rx="10" 
        ry="3" 
        fill="#111827"/>
      
      <!-- Bottom rim -->
      <ellipse 
        cx="70" 
        cy="68" 
        rx="10" 
        ry="3" 
        fill="#000000"
        opacity="0.2"/>
      
      <!-- Center button (gold accent) -->
      <circle 
        cx="70" 
        cy="50" 
        r="3" 
        fill="#facc15"
        stroke="#f59e0b"
        stroke-width="0.5"/>
      
      <!-- Elegant tassel -->
      <g class="tassel" [@tasselSwing]="tasselState">
        <line 
          x1="70" 
          y1="50" 
          x2="88" 
          y2="70" 
          stroke="#facc15" 
          stroke-width="2" 
          stroke-linecap="round"/>
        
        <circle 
          cx="88" 
          cy="72" 
          r="4" 
          fill="#facc15"
          stroke="#f59e0b"
          stroke-width="0.5"/>
        
        <!-- Tassel threads -->
        <line x1="88" y1="76" x2="86" y2="84" stroke="#facc15" stroke-width="1" opacity="0.6"/>
        <line x1="88" y1="76" x2="88" y2="85" stroke="#facc15" stroke-width="1" opacity="0.6"/>
        <line x1="88" y1="76" x2="90" y2="84" stroke="#facc15" stroke-width="1" opacity="0.6"/>
      </g>
    </g>

    <!-- Minimal Professional Eyes (simple dots) -->
    <g class="eyes" [@blink]="blinkState">
      <!-- Left eye - simple elegant dot -->
      <circle cx="55" cy="85" r="3" fill="#111827"/>
      <circle cx="56" cy="84" r="1" fill="white" opacity="0.8"/>
      
      <!-- Right eye - simple elegant dot -->
      <circle cx="85" cy="85" r="3" fill="#111827"/>
      <circle cx="86" cy="84" r="1" fill="white" opacity="0.8"/>
    </g>

    <!-- Subtle smile (minimal curve) -->
    <path 
      d="M 58 95 Q 70 100 82 95" 
      stroke="#374151" 
      stroke-width="2" 
      fill="none" 
      stroke-linecap="round"
      opacity="0.6"/>

    <!-- Open book below (knowledge symbol) -->
    <g class="book" [@bookOpen]="bookState">
      <path 
        d="M 45 110 L 45 125 L 68 122 L 68 107 Z" 
        fill="#ffffff"
        stroke="#d1d5db"
        stroke-width="1.5"/>
      
      <path 
        d="M 72 107 L 72 122 L 95 125 L 95 110 Z" 
        fill="#ffffff"
        stroke="#d1d5db"
        stroke-width="1.5"/>
      
      <!-- Book pages -->
      <line x1="50" y1="113" x2="63" y2="112" stroke="#e5e7eb" stroke-width="0.5"/>
      <line x1="50" y1="117" x2="63" y2="116" stroke="#e5e7eb" stroke-width="0.5"/>
      <line x1="50" y1="121" x2="63" y2="120" stroke="#e5e7eb" stroke-width="0.5"/>
      
      <line x1="77" y1="112" x2="90" y2="113" stroke="#e5e7eb" stroke-width="0.5"/>
      <line x1="77" y1="116" x2="90" y2="117" stroke="#e5e7eb" stroke-width="0.5"/>
      <line x1="77" y1="120" x2="90" y2="121" stroke="#e5e7eb" stroke-width="0.5"/>
      
      <rect x="68" y="107" width="4" height="15" fill="#facc15" opacity="0.3"/>
    </g>

    <defs>
      <linearGradient id="capGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#111827;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#1f2937;stop-opacity:1" />
      </linearGradient>
    </defs>
  </svg>
</div>